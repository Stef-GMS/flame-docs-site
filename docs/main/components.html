
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Components &#8212; Flame</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script src="_static/versions.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Supported Platforms" href="platforms.html" />
    <link rel="prev" title="FlameGame" href="game.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo_flame.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p class="caption" role="heading">
 <span class="caption-text">
  Basic concepts
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="structure.html">
   File structure
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="game.html">
   FlameGame
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Components
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="platforms.html">
   Platforms
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="collision_detection.html">
   Collision detection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="effects.html">
   Effects
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="camera_and_viewport.html">
   Camera &amp; Viewport
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Inputs
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="gesture-input.html">
   Gesture input
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="keyboard-input.html">
   Keyboard input
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="other-inputs.html">
   Other inputs
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Audio
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="audio.html">
   General audio
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bgm.html">
   Background music
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Rendering
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="images.html">
   Images, sprites and animations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="text.html">
   Text rendering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="palette.html">
   Colors and palette
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="particles.html">
   Particles
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="layers.html">
   Layers
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Other Modules
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="util.html">
   Util
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="widgets.html">
   Widgets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="forge2d.html">
   Forge2D
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="oxygen.html">
   Oxygen
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tiled.html">
   Tiled
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="debug.html">
   Debugging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="splash_screen.html">
   Splash screen
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/components.md.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/flame-engine/flame"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        <a class="edit-button" href="https://github.com/flame-engine/flame/edit/main/doc/components.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#component">
   Component
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#basecomponent">
   BaseComponent
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#composability-of-components">
     Composability of components
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#positioncomponent">
   PositionComponent
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#spritecomponent">
   SpriteComponent
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#spriteanimationcomponent">
   SpriteAnimationComponent
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#spriteanimationgroup">
   SpriteAnimationGroup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#spritegroup">
   SpriteGroup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#svgcomponent">
   SvgComponent
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#flareactorcomponent">
   FlareActorComponent
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parallaxcomponent">
   ParallaxComponent
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#spritebodycomponent">
   SpriteBodyComponent
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tiledcomponent">
   TiledComponent
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#isometrictilemapcomponent">
   IsometricTileMapComponent
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ninetileboxcomponent">
   NineTileBoxComponent
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#custompaintercomponent">
   CustomPainterComponent
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#effects">
   Effects
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="components">
<h1>Components<a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h1>
<p><img alt="Components Diagram" src="_images/diagram.png" /></p>
<p>This diagram might look intimidating, but don’t worry, it is not as complex as it looks.</p>
<section id="component">
<h2>Component<a class="headerlink" href="#component" title="Permalink to this headline">¶</a></h2>
<p>All components inherit from the abstract class <code class="docutils literal notranslate"><span class="pre">Component</span></code>.</p>
<p>If you want to skip reading about abstract classes you can jump directly to
<span class="xref myst">PositionComponent</span>.</p>
<p>Every <code class="docutils literal notranslate"><span class="pre">Component</span></code> has a few methods that you can optionally implement, which are used by the
<code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> class. If you are not using <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code>, you can use these methods on your own game loop
if you wish.</p>
<p><img alt="Component Lifecycle Diagram" src="_images/diagram.png" /></p>
<p>The <code class="docutils literal notranslate"><span class="pre">onGameResize</span></code> method is called whenever the screen is resized, and once in the beginning when
the component is added to the game via the <code class="docutils literal notranslate"><span class="pre">add</span></code> method.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">shouldRemove</span></code> variable can be overridden or set to true and <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> will remove the
component before the next update loop. It will then no longer be rendered or updated. Note that
<code class="docutils literal notranslate"><span class="pre">game.remove(Component</span> <span class="pre">c)</span></code> and <code class="docutils literal notranslate"><span class="pre">component.removeFromParent()</span></code> also can be used to remove components
from its parent.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">isHUD</span></code> variable can be overridden or set to true (defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>) to make the <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code>
ignore the <code class="docutils literal notranslate"><span class="pre">camera</span></code> for this element, making it static in relation to the screen that is.
Do note that this currently only works if the component is added directly to the root <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">onRemove</span></code> method can be overridden to run code before the component is removed from the game,
it is only run once even if the component is removed both by using the parents remove method and
the <code class="docutils literal notranslate"><span class="pre">Component</span></code> remove method.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">onLoad</span></code> method can be overridden to run asynchronous initialization code for the component,
like loading an image for example. This method is executed after the initial “preparation” of the
component has finished the first time, meaning that this method is executed after the first
<code class="docutils literal notranslate"><span class="pre">onGameResize</span></code> call and just before the inclusion of the component in the <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code>’s (or another
<code class="docutils literal notranslate"><span class="pre">Component</span></code>’s) list of components.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">onMount</span></code> method can be overridden to run asynchronous initialization code that should
run every time the component is added to a new parent. This means that you should not initialize
<code class="docutils literal notranslate"><span class="pre">late</span></code> variables here, since this method might run several times throughout the component’s
lifetime. This method is executed after the initial “preparation” of the component is done and after
<code class="docutils literal notranslate"><span class="pre">onGameResize</span></code> and <code class="docutils literal notranslate"><span class="pre">onLoad</span></code>, but before the inclusion of the component in the parent’s list of
components.</p>
</section>
<section id="basecomponent">
<h2>BaseComponent<a class="headerlink" href="#basecomponent" title="Permalink to this headline">¶</a></h2>
<p>Usually if you are going to make your own component you want to extend <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code>, but if
you want to be able to handle effects and child components but handle the positioning differently
you can extend the <code class="docutils literal notranslate"><span class="pre">Component</span></code> directly.</p>
<p><code class="docutils literal notranslate"><span class="pre">Component</span></code> is used by <code class="docutils literal notranslate"><span class="pre">SpriteBodyComponent</span></code>, <code class="docutils literal notranslate"><span class="pre">PositionBodyComponent</span></code>, and <code class="docutils literal notranslate"><span class="pre">BodyComponent</span></code> in
<code class="docutils literal notranslate"><span class="pre">flame_forge2d</span></code> since those components doesn’t have their position in relation to the screen, but in
relation to the Forge2D world.</p>
<section id="composability-of-components">
<h3>Composability of components<a class="headerlink" href="#composability-of-components" title="Permalink to this headline">¶</a></h3>
<p>Sometimes it is useful to wrap other components inside of your component. For example by grouping
visual components through a hierarchy. You can do this by adding child components to any component,
for example <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code>.
When you have child components on a component every time the parent is updated and rendered, all the
children are rendered and updated with the same conditions.</p>
<p>Example of usage, where visibility of two components are handled by a wrapper:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">GameOverPanel</span> <span class="kd">extends</span> <span class="n">PositionComponent</span> <span class="kd">with</span> <span class="n">HasGameRef</span><span class="o">&lt;</span><span class="n">MyGame</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="kt">bool</span> <span class="n">visible</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="kd">final</span> <span class="n">Image</span> <span class="n">spriteImage</span><span class="p">;</span>

  <span class="n">GameOverPanel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">spriteImage</span><span class="p">);</span>

  <span class="nd">@override</span>
  <span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">onLoad</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="kd">final</span> <span class="n">gameOverText</span> <span class="o">=</span> <span class="n">GameOverText</span><span class="p">(</span><span class="n">spriteImage</span><span class="p">);</span> <span class="c1">// GameOverText is a Component</span>
    <span class="kd">final</span> <span class="n">gameOverButton</span> <span class="o">=</span> <span class="n">GameOverButton</span><span class="p">(</span><span class="n">spriteImage</span><span class="p">);</span> <span class="c1">// GameOverRestart is a SpriteComponent</span>

    <span class="n">add</span><span class="p">(</span><span class="n">gameOverText</span><span class="p">);</span>
    <span class="n">add</span><span class="p">(</span><span class="n">gameOverButton</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">render</span><span class="p">(</span><span class="n">Canvas</span> <span class="n">canvas</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">visible</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">super</span><span class="p">.</span><span class="n">render</span><span class="p">(</span><span class="n">canvas</span><span class="p">);</span>
    <span class="p">}</span> <span class="c1">// If not visible none of the children will be rendered</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="positioncomponent">
<h2>PositionComponent<a class="headerlink" href="#positioncomponent" title="Permalink to this headline">¶</a></h2>
<p>This class represent a single object on the screen, being a floating rectangle or a rotating sprite.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> has a <code class="docutils literal notranslate"><span class="pre">position</span></code>, <code class="docutils literal notranslate"><span class="pre">size</span></code> and <code class="docutils literal notranslate"><span class="pre">angle</span></code>, as well as some useful methods like
<code class="docutils literal notranslate"><span class="pre">distance</span></code> and <code class="docutils literal notranslate"><span class="pre">angleBetween</span></code>.</p>
<p>When implementing the <code class="docutils literal notranslate"><span class="pre">render</span></code> method for a component that extends <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> remember to
render from the top left corner (0.0). Your render method should not handle where on the screen your
component should be rendered. To handle where and how your component should be rendered use the
<code class="docutils literal notranslate"><span class="pre">position</span></code>, <code class="docutils literal notranslate"><span class="pre">angle</span></code> and <code class="docutils literal notranslate"><span class="pre">anchor</span></code> properties and flame will automatically handle the rest for you.</p>
<p>If you really want to handle the canvas translations yourself you can just omit the
<code class="docutils literal notranslate"><span class="pre">super.render(canvas)</span></code> line and suppress the warning, but for most use cases this is not
recommended.</p>
<p>If you want to know where on the screen the bounding box of the component is you can use the
<code class="docutils literal notranslate"><span class="pre">toRect</span></code> method.</p>
<p>In the event that you want to change the direction of your components rendering, you can also use
<code class="docutils literal notranslate"><span class="pre">renderFlipX</span></code> and <code class="docutils literal notranslate"><span class="pre">renderFlipY</span></code> to flip anything drawn to canvas during <code class="docutils literal notranslate"><span class="pre">render(Canvas</span> <span class="pre">canvas)</span></code>.
This is available on all <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> objects, and is especially useful on <code class="docutils literal notranslate"><span class="pre">SpriteComponent</span></code>
and <code class="docutils literal notranslate"><span class="pre">SpriteAnimationComponent</span></code>. For example set <code class="docutils literal notranslate"><span class="pre">component.renderFlipX</span> <span class="pre">=</span> <span class="pre">true</span></code> to mirror the
horizontal rendering.</p>
</section>
<section id="spritecomponent">
<h2>SpriteComponent<a class="headerlink" href="#spritecomponent" title="Permalink to this headline">¶</a></h2>
<p>The most commonly used implementation of <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> is <code class="docutils literal notranslate"><span class="pre">SpriteComponent</span></code>, and it can be
created with a <code class="docutils literal notranslate"><span class="pre">Sprite</span></code>:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="s1">&#39;package:flame/components/component.dart&#39;</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">MyGame</span> <span class="kd">extends</span> <span class="n">FlameGame</span> <span class="p">{</span>
  <span class="kd">late</span> <span class="kd">final</span> <span class="n">SpriteComponent</span> <span class="n">player</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">onLoad</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="kd">final</span> <span class="n">sprite</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">Sprite</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;player.png&#39;</span><span class="p">);</span>
    <span class="kd">final</span> <span class="n">size</span> <span class="o">=</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">128.0</span><span class="p">);</span>
    <span class="kd">final</span> <span class="n">player</span> <span class="o">=</span> <span class="n">SpriteComponent</span><span class="p">(</span><span class="nl">size:</span> <span class="n">size</span><span class="p">,</span> <span class="nl">sprite:</span> <span class="n">sprite</span><span class="p">);</span>

    <span class="c1">// screen coordinates</span>
    <span class="n">player</span><span class="p">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">...</span> <span class="c1">// Vector2(0.0, 0.0) by default, can also be set in the constructor</span>
    <span class="n">player</span><span class="p">.</span><span class="n">angle</span> <span class="o">=</span> <span class="p">...</span> <span class="c1">// 0 by default, can also be set in the constructor</span>
    <span class="n">add</span><span class="p">(</span><span class="n">player</span><span class="p">);</span> <span class="c1">// Adds the component</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="spriteanimationcomponent">
<h2>SpriteAnimationComponent<a class="headerlink" href="#spriteanimationcomponent" title="Permalink to this headline">¶</a></h2>
<p>This class is used to represent a Component that has sprites that run in a single cyclic animation.</p>
<p>This will create a simple three frame animation using 3 different images:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span> <span class="n">sprites</span> <span class="o">=</span> <span class="p">[</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">]</span>
    <span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">Sprite</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;player_</span><span class="si">$</span><span class="n">i</span><span class="s1">.png&#39;</span><span class="p">));</span>
<span class="kd">final</span> <span class="n">animation</span> <span class="o">=</span> <span class="n">SpriteAnimation</span><span class="p">.</span><span class="n">spriteList</span><span class="p">(</span>
  <span class="kd">await</span> <span class="n">Future</span><span class="p">.</span><span class="n">wait</span><span class="p">(</span><span class="n">sprites</span><span class="p">),</span>
  <span class="nl">stepTime:</span> <span class="m">0.01</span><span class="p">,</span>
<span class="p">);</span>
<span class="k">this</span><span class="p">.</span><span class="n">player</span> <span class="o">=</span> <span class="n">SpriteAnimationComponent</span><span class="p">(</span>
  <span class="nl">animation:</span> <span class="n">animation</span><span class="p">,</span>
  <span class="nl">size:</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">64.0</span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
<p>If you have a sprite sheet, you can use the <code class="docutils literal notranslate"><span class="pre">sequenced</span></code> constructor from the <code class="docutils literal notranslate"><span class="pre">SpriteAnimationData</span></code>
class (check more details on <a class="reference internal" href="images.html#animation"><span class="std std-ref">Images &gt; Animation</span></a>):</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span> <span class="n">size</span> <span class="o">=</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">64.0</span><span class="p">);</span>
<span class="kd">final</span> <span class="n">data</span> <span class="o">=</span> <span class="n">SpriteAnimationData</span><span class="p">.</span><span class="n">sequenced</span><span class="p">(</span>
  <span class="nl">textureSize:</span> <span class="n">size</span><span class="p">,</span>
  <span class="nl">amount:</span> <span class="m">2</span><span class="p">,</span>
  <span class="nl">stepTime:</span> <span class="m">0.1</span><span class="p">,</span>
<span class="p">);</span>
<span class="k">this</span><span class="p">.</span><span class="n">player</span> <span class="o">=</span> <span class="n">SpriteAnimationComponent</span><span class="p">.</span><span class="n">fromFrameData</span><span class="p">(</span>
  <span class="kd">await</span> <span class="n">images</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;player.png&#39;</span><span class="p">),</span>
  <span class="n">data</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
<p>If you are not using <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code>, don’t forget this component needs to be updated, because the
animation object needs to be ticked to move the frames.</p>
</section>
<section id="spriteanimationgroup">
<h2>SpriteAnimationGroup<a class="headerlink" href="#spriteanimationgroup" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">SpriteAnimationGroupComponent</span></code> is a simple wrapper around <code class="docutils literal notranslate"><span class="pre">SpriteAnimationComponent</span></code> which enables
your component to hold several animations and change the current playing animation in runtime.</p>
<p>Its use is very similar to the <code class="docutils literal notranslate"><span class="pre">SpriteAnimationComponent</span></code> but instead of being initialized with a
single animation, this component receives a Map of a generic type <code class="docutils literal notranslate"><span class="pre">T</span></code> as key and a
<code class="docutils literal notranslate"><span class="pre">SpriteAnimation</span></code> as value, and the current animation.</p>
<p>Example:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="n">RobotState</span> <span class="p">{</span>
  <span class="n">idle</span><span class="p">,</span>
  <span class="n">running</span><span class="p">,</span>
<span class="p">}</span>

<span class="kd">final</span> <span class="n">running</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">loadSpriteAnimation</span><span class="p">(</span><span class="cm">/* omited */</span><span class="p">);</span>
<span class="kd">final</span> <span class="n">idle</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">loadSpriteAnimation</span><span class="p">(</span><span class="cm">/* omited */</span><span class="p">);</span>

<span class="kd">final</span> <span class="n">robot</span> <span class="o">=</span> <span class="n">SpriteAnimationGroupComponent</span><span class="o">&lt;</span><span class="n">RobotState</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="nl">animations:</span> <span class="p">{</span>
    <span class="n">RobotState</span><span class="p">.</span><span class="nl">running:</span> <span class="n">running</span><span class="p">,</span>
    <span class="n">RobotState</span><span class="p">.</span><span class="nl">idle:</span> <span class="n">idle</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nl">current:</span> <span class="n">RobotState</span><span class="p">.</span><span class="n">idle</span><span class="p">,</span>
<span class="p">);</span>

<span class="c1">// Changes current animation to &quot;running&quot;</span>
<span class="n">robot</span><span class="p">.</span><span class="n">current</span> <span class="o">=</span> <span class="n">RobotState</span><span class="p">.</span><span class="n">running</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="spritegroup">
<h2>SpriteGroup<a class="headerlink" href="#spritegroup" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">SpriteGroupComponent</span></code> is pretty similar to its animation counterpart, but especially for sprites.</p>
<p>Example:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">ButtonComponent</span> <span class="kd">extends</span> <span class="n">SpriteGroupComponent</span><span class="o">&lt;</span><span class="n">ButtonState</span><span class="o">&gt;</span>
    <span class="kd">with</span> <span class="n">HasGameRef</span><span class="o">&lt;</span><span class="n">SpriteGroupExample</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">Tappable</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;?</span> <span class="n">onLoad</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="kd">final</span> <span class="n">pressedSprite</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">gameRef</span><span class="p">.</span><span class="n">loadSprite</span><span class="p">(</span><span class="cm">/* omited */</span><span class="p">);</span>
    <span class="kd">final</span> <span class="n">unpressedSprite</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">gameRef</span><span class="p">.</span><span class="n">loadSprite</span><span class="p">(</span><span class="o">/*</span> <span class="n">omited</span> <span class="o">/*</span><span class="p">);</span>

    <span class="n">sprites</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">ButtonState</span><span class="p">.</span><span class="nl">pressed:</span> <span class="n">pressedSprite</span><span class="p">,</span>
      <span class="n">ButtonState</span><span class="p">.</span><span class="nl">unpressed:</span> <span class="n">unpressedSprite</span><span class="p">,</span>
    <span class="p">};</span>

    <span class="n">current</span> <span class="o">=</span> <span class="n">ButtonState</span><span class="p">.</span><span class="n">unpressed</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// tap methods handler omited...</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="svgcomponent">
<h2>SvgComponent<a class="headerlink" href="#svgcomponent" title="Permalink to this headline">¶</a></h2>
<p><strong>Note</strong>: To use SVG with Flame, use the <a class="reference external" href="https://github.com/flame-engine/flame_svg"><code class="docutils literal notranslate"><span class="pre">flame_svg</span></code></a>
package.</p>
<p>This component uses an instance of <code class="docutils literal notranslate"><span class="pre">Svg</span></code> class to represent a Component that has a svg that is
rendered in the game:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span> <span class="n">svg</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">Svg</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;android.svg&#39;</span><span class="p">);</span>
<span class="kd">final</span> <span class="n">android</span> <span class="o">=</span> <span class="n">SvgComponent</span><span class="p">.</span><span class="n">fromSvg</span><span class="p">(</span>
  <span class="n">svg</span><span class="p">,</span>
  <span class="nl">position:</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">100</span><span class="p">),</span>
  <span class="nl">size:</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">100</span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="flareactorcomponent">
<h2>FlareActorComponent<a class="headerlink" href="#flareactorcomponent" title="Permalink to this headline">¶</a></h2>
<p><strong>Note</strong>: The previous implementation of a Flare integration API using <code class="docutils literal notranslate"><span class="pre">FlareAnimation</span></code> and
<code class="docutils literal notranslate"><span class="pre">FlareComponent</span></code> has been deprecated.</p>
<p>To use Flare within Flame, use the <a class="reference external" href="https://github.com/flame-engine/flame_flare"><code class="docutils literal notranslate"><span class="pre">flame_flare</span></code></a>
package.</p>
<p>This is the interface for using a <a class="reference external" href="https://pub.dev/packages/flare_flutter">flare animation</a> within
flame. <code class="docutils literal notranslate"><span class="pre">FlareActorComponent</span></code> has almost the same API as of flare’s <code class="docutils literal notranslate"><span class="pre">FlareActor</span></code> widget. It receives
the animation filename (that is loaded by default with <code class="docutils literal notranslate"><span class="pre">Flame.bundle</span></code>), it can also receive a
FlareController that can play multiple animations and control nodes.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="s1">&#39;package:flame_flare/flame_flare.dart&#39;</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">YourFlareController</span> <span class="kd">extends</span> <span class="n">FlareControls</span> <span class="p">{</span>

  <span class="kd">late</span> <span class="n">ActorNode</span> <span class="n">rightHandNode</span><span class="p">;</span>

  <span class="kt">void</span> <span class="n">initialize</span><span class="p">(</span><span class="n">FlutterActorArtboard</span> <span class="n">artboard</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">artboard</span><span class="p">);</span>

    <span class="c1">// get flare node</span>
    <span class="n">rightHand</span> <span class="o">=</span> <span class="n">artboard</span><span class="p">.</span><span class="n">getNode</span><span class="p">(</span><span class="s1">&#39;right_hand&#39;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">final</span> <span class="n">fileName</span> <span class="o">=</span> <span class="s1">&#39;assets/george_washington.flr&#39;</span><span class="p">;</span>
<span class="kd">final</span> <span class="n">size</span> <span class="o">=</span> <span class="n">Vector2</span><span class="p">(</span><span class="m">1776</span><span class="p">,</span> <span class="m">1804</span><span class="p">);</span>
<span class="kd">final</span> <span class="n">controller</span> <span class="o">=</span> <span class="n">YourFlareController</span><span class="p">();</span>

<span class="n">FlareActorComponent</span> <span class="n">flareAnimation</span> <span class="o">=</span> <span class="n">FlareActorComponent</span><span class="p">(</span>
  <span class="n">fileName</span><span class="p">,</span>
  <span class="nl">controller:</span> <span class="n">controller</span><span class="p">,</span>
  <span class="nl">width:</span> <span class="m">306</span><span class="p">,</span>
  <span class="nl">height:</span> <span class="m">228</span><span class="p">,</span>
<span class="p">);</span>

<span class="n">flareAnimation</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="m">50</span><span class="p">;</span>
<span class="n">flareAnimation</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="m">240</span><span class="p">;</span>
<span class="n">add</span><span class="p">(</span><span class="n">flareAnimation</span><span class="p">);</span>

<span class="c1">// to play an animation</span>
<span class="n">controller</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="s1">&#39;rise_up&#39;</span><span class="p">);</span>

<span class="c1">// you can add another animation to play at the same time</span>
<span class="n">controller</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="s1">&#39;close_door_way_out&#39;</span><span class="p">);</span>

<span class="c1">// also, you can get a flare node and modify it</span>
<span class="n">controller</span><span class="p">.</span><span class="n">rightHandNode</span><span class="p">.</span><span class="n">rotation</span> <span class="o">=</span> <span class="n">math</span><span class="p">.</span><span class="n">pi</span><span class="p">;</span>
</pre></div>
</div>
<p>You can also change the current playing animation by using the <code class="docutils literal notranslate"><span class="pre">updateAnimation</span></code> method.</p>
<p>For a working example, check the example in the
<a class="reference external" href="https://github.com/flame-engine/flame_flare/tree/main/example">flame_flare repository</a>.</p>
</section>
<section id="parallaxcomponent">
<h2>ParallaxComponent<a class="headerlink" href="#parallaxcomponent" title="Permalink to this headline">¶</a></h2>
<p>This <code class="docutils literal notranslate"><span class="pre">Component</span></code> can be used to render backgrounds with a depth feeling by drawing several transparent
images on top of each other, where each image or animation (<code class="docutils literal notranslate"><span class="pre">ParallaxRenderer</span></code>) is moving with a
different velocity.</p>
<p>The rationale is that when you look at the horizon and moving, closer objects seem to move faster
than distant ones.</p>
<p>This component simulates this effect, making a more realistic background effect.</p>
<p>The simplest <code class="docutils literal notranslate"><span class="pre">ParallaxComponent</span></code> is created like this:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nd">@override</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">onLoad</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
  <span class="kd">final</span> <span class="n">parallaxComponent</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">loadParallaxComponent</span><span class="p">([</span>
    <span class="n">ParallaxImageData</span><span class="p">(</span><span class="s1">&#39;bg.png&#39;</span><span class="p">),</span>
    <span class="n">ParallaxImageData</span><span class="p">(</span><span class="s1">&#39;trees.png&#39;</span><span class="p">),</span>
  <span class="p">]);</span>
  <span class="n">add</span><span class="p">(</span><span class="n">parallax</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A ParallaxComponent can also “load itself” by implementing the <code class="docutils literal notranslate"><span class="pre">onLoad</span></code> method:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">MyParallaxComponent</span> <span class="kd">extends</span> <span class="n">ParallaxComponent</span> <span class="kd">with</span> <span class="n">HasGameRef</span><span class="o">&lt;</span><span class="n">MyGame</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">onLoad</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="n">parallax</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">gameRef</span><span class="p">.</span><span class="n">loadParallax</span><span class="p">([</span>
      <span class="n">ParallaxImageData</span><span class="p">(</span><span class="s1">&#39;bg.png&#39;</span><span class="p">),</span>
      <span class="n">ParallaxImageData</span><span class="p">(</span><span class="s1">&#39;trees.png&#39;</span><span class="p">),</span>
    <span class="p">]);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">MyGame</span> <span class="kd">extends</span> <span class="n">FlameGame</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">onLoad</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="n">add</span><span class="p">(</span><span class="n">MyParallaxComponent</span><span class="p">());</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This creates a static background, if you want a moving parallax (which is the whole point of a
parallax), you can do it in a few different ways depending on how fine grained you want to set the
settings for each layer.
They simplest way is to set the named optional parameters <code class="docutils literal notranslate"><span class="pre">baseVelocity</span></code> and
<code class="docutils literal notranslate"><span class="pre">velocityMultiplierDelta</span></code> in the <code class="docutils literal notranslate"><span class="pre">load</span></code> helper function.</p>
<p>For example if you want to move your background images along the X-axis with a faster speed the
“closer” the image is:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span> <span class="n">parallaxComponent</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">loadParallaxComponent</span><span class="p">(</span>
  <span class="n">_dataList</span><span class="p">,</span>
  <span class="nl">baseVelocity:</span> <span class="n">Vector2</span><span class="p">(</span><span class="m">20</span><span class="p">,</span> <span class="m">0</span><span class="p">),</span>
  <span class="nl">velocityMultiplierDelta:</span> <span class="n">Vector2</span><span class="p">(</span><span class="m">1.8</span><span class="p">,</span> <span class="m">1.0</span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
<p>You can set the baseSpeed and layerDelta at any time, for example if your character jumps or your
game speeds up.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span> <span class="n">parallax</span> <span class="o">=</span> <span class="n">parallaxComponent</span><span class="p">.</span><span class="n">parallax</span><span class="p">;</span>
<span class="n">parallax</span><span class="p">.</span><span class="n">baseSpeed</span> <span class="o">=</span> <span class="n">Vector2</span><span class="p">(</span><span class="m">100</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
<span class="n">parallax</span><span class="p">.</span><span class="n">velocityMultiplierDelta</span> <span class="o">=</span> <span class="n">Vector2</span><span class="p">(</span><span class="m">2.0</span><span class="p">,</span> <span class="m">1.0</span><span class="p">);</span>
</pre></div>
</div>
<p>By default the images are aligned to the bottom left, repeated along the X-axis and scaled
proportionally so that the image covers the height of the screen. If you want to change this
behavior, for example if you are not making a side scrolling game, you can set the <code class="docutils literal notranslate"><span class="pre">repeat</span></code>,
<code class="docutils literal notranslate"><span class="pre">alignment</span></code> and <code class="docutils literal notranslate"><span class="pre">fill</span></code> parameters for each <code class="docutils literal notranslate"><span class="pre">ParallaxRenderer</span></code> and add them to <code class="docutils literal notranslate"><span class="pre">ParallaxLayer</span></code>s that you
then pass in to the <code class="docutils literal notranslate"><span class="pre">ParallaxComponent</span></code>’s constructor.</p>
<p>Advanced example:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span> <span class="n">images</span> <span class="o">=</span> <span class="p">[</span>
  <span class="n">loadParallaxImage</span><span class="p">(</span><span class="s1">&#39;stars.jpg&#39;</span><span class="p">,</span> <span class="nl">repeat:</span> <span class="n">ImageRepeat</span><span class="p">.</span><span class="n">repeat</span><span class="p">,</span> <span class="nl">alignment:</span> <span class="n">Alignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span> <span class="nl">fill:</span> <span class="n">LayerFill</span><span class="p">.</span><span class="n">width</span><span class="p">),</span>
  <span class="n">loadParallaxImage</span><span class="p">(</span><span class="s1">&#39;planets.jpg&#39;</span><span class="p">,</span> <span class="nl">repeat:</span> <span class="n">ImageRepeat</span><span class="p">.</span><span class="n">repeatY</span><span class="p">,</span> <span class="nl">alignment:</span> <span class="n">Alignment</span><span class="p">.</span><span class="n">bottomLeft</span><span class="p">,</span> <span class="nl">fill:</span> <span class="n">LayerFill</span><span class="p">.</span><span class="n">none</span><span class="p">),</span>
  <span class="n">loadParallaxImage</span><span class="p">(</span><span class="s1">&#39;dust.jpg&#39;</span><span class="p">,</span> <span class="nl">repeat:</span> <span class="n">ImageRepeat</span><span class="p">.</span><span class="n">repeatX</span><span class="p">,</span> <span class="nl">alignment:</span> <span class="n">Alignment</span><span class="p">.</span><span class="n">topRight</span><span class="p">,</span> <span class="nl">fill:</span> <span class="n">LayerFill</span><span class="p">.</span><span class="n">height</span><span class="p">),</span>
<span class="p">];</span>
<span class="kd">final</span> <span class="n">layers</span> <span class="o">=</span> <span class="n">images</span><span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">image</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">ParallaxLayer</span><span class="p">(</span><span class="kd">await</span> <span class="n">image</span><span class="p">,</span> <span class="nl">velocityMultiplier:</span> <span class="n">images</span><span class="p">.</span><span class="n">indexOf</span><span class="p">(</span><span class="n">image</span><span class="p">)</span> <span class="o">*</span> <span class="m">2.0</span><span class="p">));</span>
<span class="kd">final</span> <span class="n">parallaxComponent</span> <span class="o">=</span> <span class="n">ParallaxComponent</span><span class="p">.</span><span class="n">fromParallax</span><span class="p">(</span>
  <span class="n">Parallax</span><span class="p">(</span>
    <span class="kd">await</span> <span class="n">Future</span><span class="p">.</span><span class="n">wait</span><span class="p">(</span><span class="n">layers</span><span class="p">),</span>
    <span class="nl">baseVelocity:</span> <span class="n">Vector2</span><span class="p">(</span><span class="m">50</span><span class="p">,</span> <span class="m">0</span><span class="p">),</span>
  <span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The stars image in this example will be repeatedly drawn in both axis, align in the center and be
scaled to fill the screen width.</p></li>
<li><p>The planets image will be repeated in Y-axis, aligned to the bottom left of the screen and not be
scaled.</p></li>
<li><p>The dust image will be repeated in X-axis, aligned to the top right and scaled to fill the screen
height.</p></li>
</ul>
<p>Once you are done setting up your <code class="docutils literal notranslate"><span class="pre">ParallaxComponent</span></code>, add it to the game like with any other
component (<code class="docutils literal notranslate"><span class="pre">game.add(parallaxComponent</span></code>).
Also, don’t forget to add you images to the <code class="docutils literal notranslate"><span class="pre">pubspec.yaml</span></code> file as assets or they wont be found.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Parallax</span></code> file contains an extension of the game which adds <code class="docutils literal notranslate"><span class="pre">loadParallax</span></code>, <code class="docutils literal notranslate"><span class="pre">loadParallaxLayer</span></code>
, <code class="docutils literal notranslate"><span class="pre">loadParallaxImage</span></code> and <code class="docutils literal notranslate"><span class="pre">loadParallaxAnimation</span></code> so that it automatically uses your game’s image cache instead of the global
one. The same goes for the <code class="docutils literal notranslate"><span class="pre">ParallaxComponent</span></code> file, but that provides <code class="docutils literal notranslate"><span class="pre">loadParallaxComponent</span></code>.</p>
<p>If you want a fullscreen <code class="docutils literal notranslate"><span class="pre">ParallaxComponent</span></code> simply omit the <code class="docutils literal notranslate"><span class="pre">size</span></code> argument and it will take the
size of the game, it will also resize to fullscreen when the game changes size or orientation.</p>
<p>Flame provides two kinds of <code class="docutils literal notranslate"><span class="pre">ParallaxRenderer</span></code>: <code class="docutils literal notranslate"><span class="pre">ParallaxImage</span></code> and <code class="docutils literal notranslate"><span class="pre">ParallaxAnimation</span></code>, <code class="docutils literal notranslate"><span class="pre">ParallaxImage</span></code> is a static image renderer and <code class="docutils literal notranslate"><span class="pre">ParallaxAnimation</span></code> is, as it’s name implies, an animation and frame based renderer.
It is also possible to create custom renderers by extending the <code class="docutils literal notranslate"><span class="pre">ParallaxRenderer</span></code> class.</p>
<p>Three example implementations can be found in the
<a class="reference external" href="https://github.com/flame-engine/flame/tree/main/examples/lib/stories/parallax">examples directory</a>.</p>
</section>
<section id="spritebodycomponent">
<h2>SpriteBodyComponent<a class="headerlink" href="#spritebodycomponent" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference internal" href="forge2d.html#spritebodycomponent"><span class="std std-ref">SpriteBodyComponent</span></a> in the Forge2D documentation.</p>
</section>
<section id="tiledcomponent">
<h2>TiledComponent<a class="headerlink" href="#tiledcomponent" title="Permalink to this headline">¶</a></h2>
<p>Currently we have a very basic implementation of a Tiled component. This API uses the lib
<a class="reference external" href="https://github.com/flame-engine/tiled.dart">tiled.dart</a> to parse map files and render visible
layers.</p>
<p>An example of how to use the API can be found
<a class="reference external" href="https://github.com/flame-engine/flame_tiled/tree/main/example">here</a>.</p>
</section>
<section id="isometrictilemapcomponent">
<h2>IsometricTileMapComponent<a class="headerlink" href="#isometrictilemapcomponent" title="Permalink to this headline">¶</a></h2>
<p>This component allows you to render an isometric map based on a cartesian matrix of blocks and an
isometric tileset.</p>
<p>A simple example on how to use it:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="c1">// Creates a tileset, the block ids are automatically assigned sequentially starting at 0,</span>
<span class="c1">// from left to right and then top to bottom.</span>
<span class="kd">final</span> <span class="n">tilesetImage</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">images</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;tileset.png&#39;</span><span class="p">);</span>
<span class="kd">final</span> <span class="n">tileset</span> <span class="o">=</span> <span class="n">IsometricTileset</span><span class="p">(</span><span class="n">tilesetImage</span><span class="p">,</span> <span class="m">32</span><span class="p">);</span>
<span class="c1">// Each element is a block id, -1 means nothing</span>
<span class="kd">final</span> <span class="n">matrix</span> <span class="o">=</span> <span class="p">[[</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">],</span> <span class="p">[</span><span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">],</span> <span class="p">[</span><span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">]];</span>
<span class="n">add</span><span class="p">(</span><span class="n">IsometricTileMapComponent</span><span class="p">(</span><span class="n">tileset</span><span class="p">,</span> <span class="n">matrix</span><span class="p">));</span>
</pre></div>
</div>
<p>It also provides methods for converting coordinates so you can handle clicks, hovers, render
entities on top of tiles, add a selector, etc.</p>
<p>You can also specify the <code class="docutils literal notranslate"><span class="pre">tileHeight</span></code>, which is the vertical distance between the bottom and top
planes of each cuboid in your tile. Basically, it’s the height of the front-most edge of your
cuboid; normally it’s half (default) or a quarter of the tile size. On the image below you can see
the height colored in the darker tone:</p>
<p><img alt="An example of how to determine the tileHeight" src="_images/tile-height-example.png" /></p>
<p>This is an example of how a quarter-length map looks like:</p>
<p><img alt="An example of a isometric map with selector" src="_images/isometric.png" /></p>
<p>Flame’s Example app contains a more in-depth example, featuring how to parse coordinates to make a
selector. The code can be found
<a class="reference external" href="https://github.com/flame-engine/flame/blob/main/examples/lib/stories/tile_maps/isometric_tile_map.dart">here</a>,
and a live version can be seen <a class="reference external" href="https://examples.flame-engine.org/#/Tile%20Maps_Isometric%20Tile%20Map">here</a>.</p>
</section>
<section id="ninetileboxcomponent">
<h2>NineTileBoxComponent<a class="headerlink" href="#ninetileboxcomponent" title="Permalink to this headline">¶</a></h2>
<p>A Nine Tile Box is a rectangle drawn using a grid sprite.</p>
<p>The grid sprite is a 3x3 grid and with 9 blocks, representing the 4 corners, the 4 sides and the
middle.</p>
<p>The corners are drawn at the same size, the sides are stretched on the side direction and the middle
is expanded both ways.</p>
<p>Using this, you can get a box/rectangle that expands well to any sizes. This is useful for making
panels, dialogs, borders.</p>
<p>Check the example app
<a class="reference external" href="https://github.com/flame-engine/flame/blob/main/examples/lib/stories/utils/nine_tile_box.dart">nine_tile_box</a>
for details on how to use it.</p>
</section>
<section id="custompaintercomponent">
<h2>CustomPainterComponent<a class="headerlink" href="#custompaintercomponent" title="Permalink to this headline">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">CustomPainter</span></code> is a Flutter class used with the <code class="docutils literal notranslate"><span class="pre">CustomPaint</span></code> widget to render custom
shapes inside a Flutter application.</p>
<p>Flame provides a component that can render a <code class="docutils literal notranslate"><span class="pre">CustomPainter</span></code> called <code class="docutils literal notranslate"><span class="pre">CustomPainterComponent</span></code>, it
receives a custom painter and renders it on the game canvas.</p>
<p>This can be used for sharing custom rendering logic between your Flame game, and your Flutter
widgets.</p>
<p>Check the example app
<a class="reference external" href="https://github.com/flame-engine/flame/blob/main/examples/lib/stories/widgets/custom_painter_component.dart">custom_painter_component</a>
for details on how to use it.</p>
</section>
<section id="effects">
<h2>Effects<a class="headerlink" href="#effects" title="Permalink to this headline">¶</a></h2>
<p>Flame provides a set of effects that can be applied to a certain type of components, these effects
can be used to animate some properties of your components, like position or dimensions.
You can check the list of those effects <a class="reference internal" href="effects.html"><span class="doc std std-doc">here</span></a>.</p>
<p>Examples of the running effects can be found <a class="reference external" href="https://github.com/flame-engine/flame/blob/main/examples/lib/stories/effects">here</a>;</p>
</section>
</section>


              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="game.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">FlameGame</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="platforms.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Supported Platforms</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Blue Fire Team<br/>
        
            &copy; Copyright 2021, Blue Fire Team.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>