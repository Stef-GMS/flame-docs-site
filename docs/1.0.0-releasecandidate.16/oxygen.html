
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Oxygen &#8212; Flame</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=84ace793992934648b4de8eed757e5a2" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx-book-theme.9d8b4a8b9bb19db25eeaddc40d639ba2.js"></script>
    <script src="_static/versions.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tiled" href="tiled.html" />
    <link rel="prev" title="Forge2D" href="forge2d.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<div class="col-12 col-md-3 bd-sidebar site-navigation " id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo_flame.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Basic concepts
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="structure.html">
   File structure
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="game.html">
   FlameGame
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="components.html">
   Components
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="platforms.html">
   Platforms
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="collision_detection.html">
   Collision detection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="effects.html">
   Effects
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="camera_and_viewport.html">
   Camera &amp; Viewport
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Inputs
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="gesture-input.html">
   Gesture input
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="keyboard-input.html">
   Keyboard input
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="other-inputs.html">
   Other inputs
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Audio
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="audio.html">
   General audio
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bgm.html">
   Background music
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Rendering
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="images.html">
   Images, sprites and animations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="text.html">
   Text rendering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="palette.html">
   Colors and palette
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="particles.html">
   Particles
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="layers.html">
   Layers
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Other Modules
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="util.html">
   Util
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="widgets.html">
   Widgets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="forge2d.html">
   Forge2D
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Oxygen
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tiled.html">
   Tiled
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="debug.html">
   Debugging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="splash_screen.html">
   Splash screen
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<!-- This is an invisible pixel that we watch to see if we've scrolled. -->
<div class="sbt-scroll-pixel-helper"></div>
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            <div class="topbar-left">
                
                <label class="nav-toggle-button" for="__navigation">
                    <div class="visually-hidden">Toggle navigation</div>
                    <i class="fas fa-bars"></i>
                </label>
                
            </div>
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/oxygen.md.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/flame-engine/flame"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        <a class="edit-button" href="https://github.com/flame-engine/flame/edit/main/doc/oxygen.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#oxygengame-game-extension">
   OxygenGame (Game extension)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#systems">
   Systems
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mixin-gameref">
     mixin GameRef
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mixin-rendersystem">
     mixin RenderSystem
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mixin-updatesystem">
     mixin UpdateSystem
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#basesystem">
     BaseSystem
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#particlesystem">
     ParticleSystem
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#components">
   Components
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#positioncomponent">
     PositionComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sizecomponent">
     SizeComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anchorcomponent">
     AnchorComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anglecomponent">
     AngleComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#flipcomponent">
     FlipComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spritecomponent">
     SpriteComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#textcomponent">
     TextComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#particlecomponent">
     ParticleComponent
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Oxygen</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#oxygengame-game-extension">
   OxygenGame (Game extension)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#systems">
   Systems
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mixin-gameref">
     mixin GameRef
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mixin-rendersystem">
     mixin RenderSystem
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mixin-updatesystem">
     mixin UpdateSystem
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#basesystem">
     BaseSystem
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#particlesystem">
     ParticleSystem
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#components">
   Components
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#positioncomponent">
     PositionComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sizecomponent">
     SizeComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anchorcomponent">
     AnchorComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#anglecomponent">
     AngleComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#flipcomponent">
     FlipComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spritecomponent">
     SpriteComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#textcomponent">
     TextComponent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#particlecomponent">
     ParticleComponent
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="oxygen">
<h1>Oxygen<a class="headerlink" href="#oxygen" title="Permalink to this headline">¶</a></h1>
<p>We (the Flame organization) built an ECS(Entity Component System) named Oxygen.</p>
<p>If you want to use Oxygen specifically for Flame as a replacement for the
FCS(Flame Component System) you should use our bridge library
<a class="reference external" href="https://github.com/flame-engine/flame/tree/main/packages/flame_oxygen">flame_oxygen</a> and if you
just want to use it in a Dart project you can use the
<a class="reference external" href="https://github.com/flame-engine/oxygen">oxygen</a> library directly.</p>
<p>If you are not familiar with Oxygen yet we recommend you read up on its
<a class="reference external" href="https://github.com/flame-engine/oxygen/tree/main/doc">documentation</a>.</p>
<p>To use it in your game you just need to add <code class="docutils literal notranslate"><span class="pre">flame_oxygen</span></code> to your pubspec.yaml, as can be seen
in the
<a class="reference external" href="https://github.com/flame-engine/flame/tree/main/packages/flame_oxygen/example">Oxygen example</a>
and in the pub.dev <a class="reference external" href="https://pub.dev/packages/flame_oxygen">installation instructions</a>.</p>
<section id="oxygengame-game-extension">
<h2>OxygenGame (Game extension)<a class="headerlink" href="#oxygengame-game-extension" title="Permalink to this headline">¶</a></h2>
<p>If you are going to use Oxygen in your project it can be a good idea to use the Oxygen specific
extension of the <code class="docutils literal notranslate"><span class="pre">Game</span></code> class.</p>
<p>It is called <code class="docutils literal notranslate"><span class="pre">OxygenGame</span></code> and it will give you full access to the Oxygen framework while also
having full access to the Flame game loop.</p>
<p>Instead of using <code class="docutils literal notranslate"><span class="pre">onLoad</span></code>, as you are used to with Flame, <code class="docutils literal notranslate"><span class="pre">OxygenGame</span></code> comes with the <code class="docutils literal notranslate"><span class="pre">init</span></code>
method. This method is called in the <code class="docutils literal notranslate"><span class="pre">onLoad</span></code> but before the world initialization, allowing you
to register components and systems and do anything else that you normally would do in <code class="docutils literal notranslate"><span class="pre">onLoad</span></code>.</p>
<p>A simple <code class="docutils literal notranslate"><span class="pre">OxygenGame</span></code> implementation example can be seen in the
<a class="reference external" href="https://github.com/flame-engine/flame/tree/main/packages/flame_oxygen/example">example folder</a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">OxygenGame</span></code> also comes with it’s own <code class="docutils literal notranslate"><span class="pre">createEntity</span></code> method that automically adds certain
default components on the entity. This is especially helpfull when you are using the
<span class="xref myst">BaseSystem</span> as your base.</p>
</section>
<section id="systems">
<h2>Systems<a class="headerlink" href="#systems" title="Permalink to this headline">¶</a></h2>
<p>Systems define the logic of your game. In FCS you normally would add your logic inside a component
with Oxygen we use systems for that. Oxygen itself is completly platform agnostic, meaning it has
no render loop. It only knows <code class="docutils literal notranslate"><span class="pre">execute</span></code>, which is a method equal to the <code class="docutils literal notranslate"><span class="pre">update</span></code> method in Flame.</p>
<p>On each <code class="docutils literal notranslate"><span class="pre">execute</span></code> Oxygen automatically calls all the systems that were registered in order. But in
Flame we can have different logic for different loops (render/update). So in <code class="docutils literal notranslate"><span class="pre">flame_oxygen</span></code> we
introduced the <code class="docutils literal notranslate"><span class="pre">RenderSystem</span></code> and <code class="docutils literal notranslate"><span class="pre">UpdateSystem</span></code> mixin. These mixins allow you to add the <code class="docutils literal notranslate"><span class="pre">render</span></code>
method and the <code class="docutils literal notranslate"><span class="pre">update</span></code> method respectivally to your custom system. For more information see the
<span class="xref myst">RenderSystem</span> and <span class="xref myst">UpdateSystem</span> section.</p>
<p>If you are coming from FCS you might expect certain default functionality that you normally got
from the <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code>. As mentioned before components do not contain any kind of logic, but
to give you the same default functionality we also created a class called <code class="docutils literal notranslate"><span class="pre">BaseSystem</span></code>. This system
acts almost identical to the prerender logic from the <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> in FCS. You only have
to subclass it to your own system. For more information see the
<span class="xref myst">BaseSystem</span> section.</p>
<p>Systems can be registered to the world using the <code class="docutils literal notranslate"><span class="pre">world.registerSystem</span></code> method on
<span class="xref myst">OxygenGame</span>.</p>
<section id="mixin-gameref">
<h3>mixin GameRef<a class="headerlink" href="#mixin-gameref" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">GameRef</span></code> mixin allows a system to become aware of the <code class="docutils literal notranslate"><span class="pre">OxygenGame</span></code> instance its attached to. This
allows easy access to the methods on the game class.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">YourSystem</span> <span class="kd">extends</span> <span class="n">System</span> <span class="kd">with</span> <span class="n">GameRef</span><span class="o">&lt;</span><span class="n">YourGame</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">init</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Access to game using the .game propery</span>
  <span class="p">}</span>

  <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="mixin-rendersystem">
<h3>mixin RenderSystem<a class="headerlink" href="#mixin-rendersystem" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">RenderSystem</span></code> mixin allows a system to be registered for the render loop.
By adding a <code class="docutils literal notranslate"><span class="pre">render</span></code> method to the system you get full access to the canvas as
you normally would in Flame.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">SimpleRenderSystem</span> <span class="kd">extends</span> <span class="n">System</span> <span class="kd">with</span> <span class="n">RenderSystem</span> <span class="p">{</span>
  <span class="n">Query</span><span class="o">?</span> <span class="n">_query</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">init</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">_query</span> <span class="o">=</span> <span class="n">createQuery</span><span class="p">([</span><span class="cm">/* Your filters */</span><span class="p">]);</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">render</span><span class="p">(</span><span class="n">Canvas</span> <span class="n">canvas</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">final</span> <span class="n">entity</span> <span class="k">in</span> <span class="n">_query</span><span class="o">?</span><span class="p">.</span><span class="n">entities</span> <span class="o">??</span> <span class="o">&lt;</span><span class="n">Entity</span><span class="o">&gt;</span><span class="p">[])</span> <span class="p">{</span>
      <span class="c1">// Render entity based on components</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="mixin-updatesystem">
<h3>mixin UpdateSystem<a class="headerlink" href="#mixin-updatesystem" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">MixinSystem</span></code> mixin allows a system to be registered for the update loop.
By adding a <code class="docutils literal notranslate"><span class="pre">update</span></code> method to the system you get full access to the delta time as you
normally would in Flame.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">SimpleUpdateSystem</span> <span class="kd">extends</span> <span class="n">System</span> <span class="kd">with</span> <span class="n">UpdateSystem</span> <span class="p">{</span>
  <span class="n">Query</span><span class="o">?</span> <span class="n">_query</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">init</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">_query</span> <span class="o">=</span> <span class="n">createQuery</span><span class="p">([</span><span class="cm">/* Your filters */</span><span class="p">]);</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">update</span><span class="p">(</span><span class="kt">double</span> <span class="n">dt</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">final</span> <span class="n">entity</span> <span class="k">in</span> <span class="n">_query</span><span class="o">?</span><span class="p">.</span><span class="n">entities</span> <span class="o">??</span> <span class="o">&lt;</span><span class="n">Entity</span><span class="o">&gt;</span><span class="p">[])</span> <span class="p">{</span>
      <span class="c1">// Update components values</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="basesystem">
<h3>BaseSystem<a class="headerlink" href="#basesystem" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">BaseSystem</span></code> is an abstract class whoms logic can be compared to the <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code>
from FCS. The <code class="docutils literal notranslate"><span class="pre">BaseSystem</span></code> automatically filters all entities that have the <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code>
and <code class="docutils literal notranslate"><span class="pre">SizeComponent</span></code> from <code class="docutils literal notranslate"><span class="pre">flame_oxygen</span></code>. On top of that you can add your own filters by defining
a getter called <code class="docutils literal notranslate"><span class="pre">filters</span></code>. These filters are then used to filter down the entities you are
interested in.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">BaseSystem</span></code> is also fully aware of the game instance. You can access the game instance by using
the <code class="docutils literal notranslate"><span class="pre">game</span></code> property. This also gives you access to the <code class="docutils literal notranslate"><span class="pre">createEntity</span></code> helper method on <code class="docutils literal notranslate"><span class="pre">OxygenGame</span></code>.</p>
<p>On each render loop the <code class="docutils literal notranslate"><span class="pre">BaseSystem</span></code> will prepare your canvas the same way the <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code>
from FCS would (translating, rotating and setting the anchor. After that it will call the
<code class="docutils literal notranslate"><span class="pre">renderEntity</span></code> method so you can add your own render logic for that entity on a prepared canvas.</p>
<p>The following components will be checked by <code class="docutils literal notranslate"><span class="pre">BaseSystem</span></code> for the prepartion of the
canvas:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> (required)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SizeComponent</span></code> (required)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnchorComponent</span></code> (optional, defaults to <code class="docutils literal notranslate"><span class="pre">Anchor.topLeft</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AngleComponent</span></code> (optional, defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>)</p></li>
</ul>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">SimpleBaseSystem</span> <span class="kd">extends</span> <span class="n">BaseSystem</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">Filter</span><span class="o">&lt;</span><span class="n">Component</span><span class="o">&gt;&gt;</span> <span class="kd">get</span> <span class="n">filters</span> <span class="o">=&gt;</span> <span class="p">[];</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">renderEntity</span><span class="p">(</span><span class="n">Canvas</span> <span class="n">canvas</span><span class="p">,</span> <span class="n">Entity</span> <span class="n">entity</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// The canvas is translated, rotated and fully prepared for rendering.</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="particlesystem">
<h3>ParticleSystem<a class="headerlink" href="#particlesystem" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">ParticleSystem</span></code> is a simple system that brings the Particle API from Flame to Oxygen. This
allows you to use the <span class="xref myst">ParticleComponent</span> without having to worry about how
it will render or when to update it. As most of that logic is already contained in the Particle
itself.</p>
<p>Simply register the <code class="docutils literal notranslate"><span class="pre">ParticleSystem</span></code> and the <code class="docutils literal notranslate"><span class="pre">ParticleComponent</span></code> to your world like so:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">registerSystem</span><span class="p">(</span><span class="n">ParticleSystem</span><span class="p">());</span>

<span class="n">world</span><span class="p">.</span><span class="n">registerComponent</span><span class="o">&lt;</span><span class="n">ParticleComponent</span><span class="p">,</span> <span class="n">Particle</span><span class="o">&gt;</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="n">ParticleComponent</span><span class="p">);</span>
</pre></div>
</div>
<p>You can now create a new entity with a <code class="docutils literal notranslate"><span class="pre">ParticleComponent</span></code>. For more info about that see the
<span class="xref myst">ParticleComponent</span> section.</p>
</section>
</section>
<section id="components">
<h2>Components<a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h2>
<p>Components in Oxygen are different than the ones from FCS mainly because instead of containing
logic they only contain data. This data is then used in systems which in turn define the logic.</p>
<p>To accomdate people who are switching from FCS to Oxygen we implemented a few components to help
you get started. Some of these components are based on the multiple functionalities that the
<code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> from FCS has. Others are just easy wrappers around certain Flame API
functionality, they are often accompanied by predefined systems that you can use.</p>
<p>Components can be registered to the world using the <code class="docutils literal notranslate"><span class="pre">world.registerComponent</span></code> method on
<span class="xref myst">OxygenGame</span>.</p>
<section id="positioncomponent">
<h3>PositionComponent<a class="headerlink" href="#positioncomponent" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> is as its name implies is a component that describe the position of an
entity. And it is registered to the world by default.</p>
<p>Creating a positioned entity using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span>
  <span class="nl">position:</span> <span class="n">Vector2</span><span class="p">(</span><span class="m">100</span><span class="p">,</span> <span class="m">100</span><span class="p">),</span>
  <span class="nl">size:</span> <span class="c1">// ...</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Creating a positioned entity using the World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span>
  <span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">PositionComponent</span><span class="p">,</span> <span class="n">Vector2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Vector2</span><span class="p">(</span><span class="m">100</span><span class="p">,</span> <span class="m">100</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="sizecomponent">
<h3>SizeComponent<a class="headerlink" href="#sizecomponent" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">SizeComponent</span></code> is as its name implies is a component that describe the size of an entity.
And it is registered to the world by default.</p>
<p>Creating a sized entity using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span>
  <span class="nl">position:</span> <span class="c1">// ...</span>
  <span class="nl">size:</span> <span class="n">Vector2</span><span class="p">(</span><span class="m">50</span><span class="p">,</span> <span class="m">50</span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Creating a sized entity using the World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span>
  <span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">SizeComponent</span><span class="p">,</span> <span class="n">Vector2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Vector2</span><span class="p">(</span><span class="m">50</span><span class="p">,</span> <span class="m">50</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="anchorcomponent">
<h3>AnchorComponent<a class="headerlink" href="#anchorcomponent" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">AnchorComponent</span></code> is as its name implies is a component that describe the anchor position of an
entity. And it is registered to the world by default.</p>
<p>This component is especially useful when you are using the <span class="xref myst">BaseSystem</span>. But can also
be used for your own anchoring logic.</p>
<p>Creating an anchored entity using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span>
  <span class="nl">position:</span> <span class="c1">// ...</span>
  <span class="nl">size:</span> <span class="c1">// ...</span>
  <span class="nl">anchor:</span> <span class="n">Anchor</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Creating an anchored entity using the World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span>
  <span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">AnchorComponent</span><span class="p">,</span> <span class="n">Anchor</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Anchor</span><span class="p">.</span><span class="n">center</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="anglecomponent">
<h3>AngleComponent<a class="headerlink" href="#anglecomponent" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">AngleComponent</span></code> is as its name implies is a component that describe the angle of an entity.
And it is registered to the world by default. The angle is in radians.</p>
<p>This component is especially useful when you are using the <span class="xref myst">BaseSystem</span>. But can also
be used for your own angle logic.</p>
<p>Creating an angled entity using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span>
  <span class="nl">position:</span> <span class="c1">// ...</span>
  <span class="nl">size:</span> <span class="c1">// ...</span>
  <span class="nl">angle:</span> <span class="m">1.570796</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Creating an angled entity using the World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span>
  <span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">AngleComponent</span><span class="p">,</span> <span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="m">1.570796</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="flipcomponent">
<h3>FlipComponent<a class="headerlink" href="#flipcomponent" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">FlipComponent</span></code> can be used to flip your rendering on either the X or Y axis. It is registered
to the world by default.</p>
<p>This component is especially useful when you are using the <span class="xref myst">BaseSystem</span>. But can also
be used for your own flipping logic.</p>
<p>Creating an entity that is flipped on it’s X axis using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span>
  <span class="nl">position:</span> <span class="c1">// ...</span>
  <span class="nl">size:</span> <span class="c1">// ...</span>
  <span class="nl">flipX:</span> <span class="kc">true</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Creating an entity that is flipped on it’s X axis using the World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span>
  <span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">FlipComponent</span><span class="p">,</span> <span class="n">FlipInit</span><span class="o">&gt;</span><span class="p">(</span><span class="n">FlipInit</span><span class="p">(</span><span class="nl">flipX:</span> <span class="kc">true</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="spritecomponent">
<h3>SpriteComponent<a class="headerlink" href="#spritecomponent" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">SpriteComponent</span></code> is as its name implies is a component that describe the sprite of an entity.
And it is registered to the world by default.</p>
<p>This allows you to assigning a Sprite to an Entity.</p>
<p>Creating an entity with a sprite using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span>
  <span class="nl">position:</span> <span class="c1">// ...</span>
  <span class="nl">size:</span> <span class="c1">// ...</span>
<span class="p">)..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">SpriteComponent</span><span class="p">,</span> <span class="n">SpriteInit</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">SpriteInit</span><span class="p">(</span><span class="kd">await</span> <span class="n">game</span><span class="p">.</span><span class="n">loadSprite</span><span class="p">(</span><span class="s1">&#39;pizza.png&#39;</span><span class="p">)),</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Creating an entity with a sprite using World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span>
  <span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">SpriteComponent</span><span class="p">,</span> <span class="n">SpriteInit</span><span class="o">&gt;</span><span class="p">(</span>
    <span class="n">SpriteInit</span><span class="p">(</span><span class="kd">await</span> <span class="n">game</span><span class="p">.</span><span class="n">loadSprite</span><span class="p">(</span><span class="s1">&#39;pizza.png&#39;</span><span class="p">)),</span>
  <span class="p">);</span>
</pre></div>
</div>
</section>
<section id="textcomponent">
<h3>TextComponent<a class="headerlink" href="#textcomponent" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">TextComponent</span></code> is as its name implies is a component that adds a text component to an entity.
And it is registered to the world by default.</p>
<p>This allows you to add text to your entity, combined with the <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> you can use it
as a text entity.</p>
<p>Creating an entity with text using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span>
  <span class="nl">position:</span> <span class="c1">// ...</span>
  <span class="nl">size:</span> <span class="c1">// ...</span>
<span class="p">)..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">TextComponent</span><span class="p">,</span> <span class="n">TextInit</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">TextInit</span><span class="p">(</span>
    <span class="s1">&#39;Your text&#39;</span><span class="p">,</span>
    <span class="nl">config:</span> <span class="k">const</span> <span class="n">TextPaintConfig</span><span class="p">(),</span>
  <span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Creating an entity with text using World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span>
  <span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">TextComponent</span><span class="p">,</span> <span class="n">TextInit</span><span class="o">&gt;</span><span class="p">(</span>
    <span class="n">TextInit</span><span class="p">(</span>
      <span class="s1">&#39;Your text&#39;</span><span class="p">,</span>
      <span class="nl">config:</span> <span class="k">const</span> <span class="n">TextPaintConfig</span><span class="p">(),</span>
    <span class="p">),</span>
  <span class="p">);</span>
</pre></div>
</div>
</section>
<section id="particlecomponent">
<h3>ParticleComponent<a class="headerlink" href="#particlecomponent" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">ParticleComponent</span></code> wraps a <code class="docutils literal notranslate"><span class="pre">Particle</span></code> from Flame. Combined with the
<span class="xref myst">ParticleSystem</span> you can easily add particles to your game without having to
worry about how to render a particle or when/how to update one.</p>
<p>Creating an entity with a particle using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span>
  <span class="nl">position:</span> <span class="c1">// ...</span>
  <span class="nl">size:</span> <span class="c1">// ...</span>
<span class="p">)..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">ParticleComponent</span><span class="p">,</span> <span class="n">Particle</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="c1">// Your Particle.</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Creating an entity with a particle using World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span>
  <span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">ParticleComponent</span><span class="p">,</span> <span class="n">Particle</span><span class="o">&gt;</span><span class="p">(</span>
    <span class="c1">// Your Particle.</span>
  <span class="p">);</span>
</pre></div>
</div>
</section>
</section>
</section>


              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="forge2d.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Forge2D</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="tiled.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tiled</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Blue Fire Team<br/>
    
        &copy; Copyright 2021, Blue Fire Team.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>