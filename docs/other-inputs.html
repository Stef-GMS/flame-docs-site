
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Other inputs &#8212; Flame</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script src="_static/versions.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Audio" href="audio.html" />
    <link rel="prev" title="Keyboard Input" href="keyboard-input.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo_flame.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p class="caption" role="heading">
 <span class="caption-text">
  Basic concepts
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="structure.html">
   File structure
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="game.html">
   FlameGame
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="components.html">
   Components
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="platforms.html">
   Platforms
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="collision_detection.html">
   Collision detection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="effects.html">
   Effects
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="camera_and_viewport.html">
   Camera &amp; Viewport
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Inputs
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="gesture-input.html">
   Gesture input
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="keyboard-input.html">
   Keyboard input
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Other inputs
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Audio
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="audio.html">
   General audio
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bgm.html">
   Background music
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Rendering
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="images.html">
   Images, sprites and animations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="text.html">
   Text rendering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="palette.html">
   Colors and palette
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="particles.html">
   Particles
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="layers.html">
   Layers
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Other Modules
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="util.html">
   Util
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="widgets.html">
   Widgets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="forge2d.html">
   Forge2D
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="oxygen.html">
   Oxygen
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tiled.html">
   Tiled
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="debug.html">
   Debugging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="splash_screen.html">
   Splash screen
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/other-inputs.md.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/flame-engine/flame"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        <a class="edit-button" href="https://github.com/flame-engine/flame/edit/main/doc/other-inputs.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#joystick">
   Joystick
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hudbuttoncomponent">
   HudButtonComponent
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gamepad">
   Gamepad
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="other-inputs">
<h1>Other inputs<a class="headerlink" href="#other-inputs" title="Permalink to this headline">¶</a></h1>
<p>This includes documentation for input methods besides keyboard and mouse.</p>
<p>For other input documents, see also:</p>
<ul class="simple">
<li><p><a class="reference internal" href="gesture-input.html"><span class="doc std std-doc">Gesture Input</span></a>: for mouse and touch pointer gestures</p></li>
<li><p><a class="reference internal" href="keyboard-input.html"><span class="doc std std-doc">Keyboard Input</span></a>: for keystrokes</p></li>
</ul>
<section id="joystick">
<h2>Joystick<a class="headerlink" href="#joystick" title="Permalink to this headline">¶</a></h2>
<p>Flame provides a component capable of creating a virtual joystick for taking input for your game.
To use this feature, you need to create a <code class="docutils literal notranslate"><span class="pre">JoystickComponent</span></code>, configure it the way you want, and
add it to your game.</p>
<p>Check this example to get a better understanding:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">MyGame</span> <span class="kd">extends</span> <span class="n">FlameGame</span> <span class="kd">with</span> <span class="n">HasDraggableComponents</span> <span class="p">{</span>

  <span class="n">MyGame</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">joystick</span><span class="p">.</span><span class="n">addObserver</span><span class="p">(</span><span class="n">player</span><span class="p">);</span>
    <span class="n">add</span><span class="p">(</span><span class="n">player</span><span class="p">);</span>
    <span class="n">add</span><span class="p">(</span><span class="n">joystick</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nd">@override</span>
  <span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">onLoad</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">.</span><span class="n">onLoad</span><span class="p">();</span>
    <span class="kd">final</span> <span class="n">image</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">images</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;joystick.png&#39;</span><span class="p">);</span>
    <span class="kd">final</span> <span class="n">sheet</span> <span class="o">=</span> <span class="n">SpriteSheet</span><span class="p">.</span><span class="n">fromColumnsAndRows</span><span class="p">(</span>
      <span class="nl">image:</span> <span class="n">image</span><span class="p">,</span>
      <span class="nl">columns:</span> <span class="m">6</span><span class="p">,</span>
      <span class="nl">rows:</span> <span class="m">1</span><span class="p">,</span>
    <span class="p">);</span>
    <span class="kd">final</span> <span class="n">joystick</span> <span class="o">=</span> <span class="n">JoystickComponent</span><span class="p">(</span>
      <span class="nl">knob:</span> <span class="n">SpriteComponent</span><span class="p">(</span>
        <span class="nl">sprite:</span> <span class="n">sheet</span><span class="p">.</span><span class="n">getSpriteById</span><span class="p">(</span><span class="m">1</span><span class="p">),</span>
        <span class="nl">size:</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">100</span><span class="p">),</span>
      <span class="p">),</span>
      <span class="nl">background:</span> <span class="n">SpriteComponent</span><span class="p">(</span>
        <span class="nl">sprite:</span> <span class="n">sheet</span><span class="p">.</span><span class="n">getSpriteById</span><span class="p">(</span><span class="m">0</span><span class="p">),</span>
        <span class="nl">size:</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">150</span><span class="p">),</span>
      <span class="p">),</span>
      <span class="nl">margin:</span> <span class="k">const</span> <span class="n">EdgeInsets</span><span class="p">.</span><span class="n">only</span><span class="p">(</span><span class="nl">left:</span> <span class="m">40</span><span class="p">,</span> <span class="nl">bottom:</span> <span class="m">40</span><span class="p">),</span>
    <span class="p">);</span>

    <span class="kd">final</span> <span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">joystick</span><span class="p">);</span>
    <span class="n">add</span><span class="p">(</span><span class="n">player</span><span class="p">);</span>
    <span class="n">add</span><span class="p">(</span><span class="n">joystick</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">JoystickPlayer</span> <span class="kd">extends</span> <span class="n">SpriteComponent</span> <span class="kd">with</span> <span class="n">HasGameRef</span> <span class="p">{</span>
  <span class="c1">/// Pixels/s</span>
  <span class="kt">double</span> <span class="n">maxSpeed</span> <span class="o">=</span> <span class="m">300.0</span><span class="p">;</span>

  <span class="kd">final</span> <span class="n">JoystickComponent</span> <span class="n">joystick</span><span class="p">;</span>

  <span class="n">JoystickPlayer</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">joystick</span><span class="p">)</span>
      <span class="o">:</span> <span class="k">super</span><span class="p">(</span>
          <span class="nl">size:</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">100.0</span><span class="p">),</span>
        <span class="p">)</span> <span class="p">{</span>
    <span class="n">anchor</span> <span class="o">=</span> <span class="n">Anchor</span><span class="p">.</span><span class="n">center</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nd">@override</span>
  <span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">onLoad</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">.</span><span class="n">onLoad</span><span class="p">();</span>
    <span class="n">sprite</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">gameRef</span><span class="p">.</span><span class="n">loadSprite</span><span class="p">(</span><span class="s1">&#39;layers/player.png&#39;</span><span class="p">);</span>
    <span class="n">position</span> <span class="o">=</span> <span class="n">gameRef</span><span class="p">.</span><span class="n">size</span> <span class="o">/</span> <span class="m">2</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">update</span><span class="p">(</span><span class="kt">double</span> <span class="n">dt</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="n">dt</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">joystick</span><span class="p">.</span><span class="n">direction</span> <span class="o">!=</span> <span class="n">JoystickDirection</span><span class="p">.</span><span class="n">idle</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">position</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">joystick</span><span class="p">.</span><span class="n">velocity</span> <span class="o">*</span> <span class="n">maxSpeed</span> <span class="o">*</span> <span class="n">dt</span><span class="p">);</span>
      <span class="n">angle</span> <span class="o">=</span> <span class="n">joystick</span><span class="p">.</span><span class="n">delta</span><span class="p">.</span><span class="n">screenAngle</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>So in this example, we create the classes <code class="docutils literal notranslate"><span class="pre">MyGame</span></code> and <code class="docutils literal notranslate"><span class="pre">Player</span></code>. <code class="docutils literal notranslate"><span class="pre">MyGame</span></code> creates a joystick which is
passed to the <code class="docutils literal notranslate"><span class="pre">Player</span></code> when it is created. In the <code class="docutils literal notranslate"><span class="pre">Player</span></code> class we act upon the current state of
the joystick.</p>
<p>The joystick has a few fields that change depending on what state it is in.
These are the fields that should be used to know the state of the joystick:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">intensity</span></code>: The percentage [0.0, 1.0] that the knob is dragged from the epicenter to the edge of
the joystick (or <code class="docutils literal notranslate"><span class="pre">knobRadius</span></code> if that is set).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delta</span></code>: The absolute amount (defined as a <code class="docutils literal notranslate"><span class="pre">Vector2</span></code>) that the knob is dragged from its epicenter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">velocity</span></code>: The percentage, presented as a <code class="docutils literal notranslate"><span class="pre">Vector2</span></code>, and direction that the knob is currently
pulled from its base position to a edge of the joystick.</p></li>
</ul>
<p>If you want to create buttons to go with your joystick, check out
<span class="xref myst"><code class="docutils literal notranslate"><span class="pre">MarginButtonComponent</span></code></span>.</p>
<p>A full examples of how to use it can be found
<a class="reference external" href="https://github.com/flame-engine/flame/tree/main/examples/lib/stories/input/joystick.dart">here</a>.
And it can be seen running <a class="reference external" href="https://examples.flame-engine.org/#/Controls_Joystick">here</a>.</p>
</section>
<section id="hudbuttoncomponent">
<h2>HudButtonComponent<a class="headerlink" href="#hudbuttoncomponent" title="Permalink to this headline">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">HudButtonComponent</span></code> is a button that can be defined with margins to the edge of the <code class="docutils literal notranslate"><span class="pre">Viewport</span></code>
instead of with a position. It takes two <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code>s. <code class="docutils literal notranslate"><span class="pre">button</span></code> and <code class="docutils literal notranslate"><span class="pre">buttonDown</span></code>, the first
is used for when the button is idle and the second is shown when the button is being pressed. The
second one is optional if you don’t want to change the look of the button when it is pressed, or if
you handle this through the <code class="docutils literal notranslate"><span class="pre">button</span></code> component.</p>
<p>As the name suggests this button is a hud by default, which means that it will be static on your
screen even if the camera for the game moves around. You can also use this component as a non-hud by
setting <code class="docutils literal notranslate"><span class="pre">hudButtonComponent.isHud</span> <span class="pre">=</span> <span class="pre">false;</span></code>.</p>
<p>If you want to act upon the button being pressed (which would be the common thing to do) you can either pass in
a callback function as the <code class="docutils literal notranslate"><span class="pre">onPressed</span></code> argument, or you extend the component and override
<code class="docutils literal notranslate"><span class="pre">onTapDown</span></code>, <code class="docutils literal notranslate"><span class="pre">onTapUp</span></code> and/or <code class="docutils literal notranslate"><span class="pre">onTapCancel</span></code> and implement your logic in there.</p>
</section>
<section id="gamepad">
<h2>Gamepad<a class="headerlink" href="#gamepad" title="Permalink to this headline">¶</a></h2>
<p>Flame has a separate plugin to support external game controllers (gamepads), checkout
<a class="reference external" href="https://github.com/flame-engine/flame_gamepad">here</a> for more information.</p>
</section>
</section>


              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="keyboard-input.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Keyboard Input</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="audio.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Audio</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Blue Fire Team<br/>
        
            &copy; Copyright 2021, Blue Fire Team.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>